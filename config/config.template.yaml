# ğŸ”§ Remote Terminal MCP é…ç½®æ¨¡æ¿
# å¤åˆ¶æ­¤æ–‡ä»¶åˆ° ~/.remote-terminal-mcp/config.yaml å¹¶æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹

# ================================================================
# ğŸŒŸ æœåŠ¡å™¨é…ç½®æ¨¡æ¿
# ================================================================
servers:
  # ================================================================
  # ğŸ  æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆæ¨èä¿ç•™ï¼‰
  # ================================================================
  local-dev:
    type: "local_tmux"
    description: "æœ¬åœ°å¼€å‘ä¼šè¯"
    session:
      name: "dev-session"                    # ğŸ“ ä¿®æ”¹ï¼šä¼šè¯å
      working_directory: "~/Code"            # ğŸ“ ä¿®æ”¹ï¼šå·¥ä½œç›®å½•
      shell: "/bin/zsh"                     # ğŸ“ ä¿®æ”¹ï¼šshellç±»å‹
      environment:
        TERM: "xterm-256color"
        LANG: "en_US.UTF-8"

  # ================================================================
  # ğŸ–¥ï¸ ç®€å•SSHæœåŠ¡å™¨ç¤ºä¾‹
  # ================================================================
  simple-server:
    type: "script_based"
    description: "ç®€å•SSHè¿æ¥æœåŠ¡å™¨"
    connection:
      tool: "ssh"                           # ä½¿ç”¨æ ‡å‡†SSH
      mode: "direct"                        # ç›´è¿æ¨¡å¼
      target:
        host: "your-server.com"             # ğŸ“ ä¿®æ”¹ï¼šæœåŠ¡å™¨åœ°å€
        user: "root"                        # ğŸ“ ä¿®æ”¹ï¼šç”¨æˆ·å
        # key_file: "~/.ssh/id_rsa"         # ğŸ“ å¯é€‰ï¼šSSHç§é’¥è·¯å¾„
        # password: "your_password"          # ğŸ“ å¯é€‰ï¼šå¯†ç ï¼ˆä¸æ¨èï¼‰
    session:
      name: "simple_dev"                    # ğŸ“ ä¿®æ”¹ï¼šä¼šè¯å
      working_directory: "/workspace"       # ğŸ“ ä¿®æ”¹ï¼šå·¥ä½œç›®å½•
      shell: "/bin/bash"                    # ğŸ“ ä¿®æ”¹ï¼šshellç±»å‹

  # ================================================================
  # ğŸ³ å¸¦Dockerçš„é«˜çº§æœåŠ¡å™¨ç¤ºä¾‹
  # ================================================================
  gpu-server:
    type: "script_based"
    description: "GPUè®­ç»ƒæœåŠ¡å™¨ - è‡ªåŠ¨Dockerç¯å¢ƒ"
    connection:
      tool: "ssh"                           # æˆ–ä½¿ç”¨ "relay-cli"
      mode: "direct"
      target:
        host: "gpu-cluster.company.com"     # ğŸ“ ä¿®æ”¹ï¼šGPUæœåŠ¡å™¨åœ°å€
        user: "admin"                       # ğŸ“ ä¿®æ”¹ï¼šç”¨æˆ·å
        key_file: "~/.ssh/gpu_server_key"   # ğŸ“ ä¿®æ”¹ï¼šSSHå¯†é’¥è·¯å¾„
    docker:
      container_name: "pytorch_env"          # ğŸ“ ä¿®æ”¹ï¼šå®¹å™¨å
      image: "pytorch/pytorch:latest"        # ğŸ“ ä¿®æ”¹ï¼šDockeré•œåƒ
      auto_create: true                      # è‡ªåŠ¨åˆ›å»ºå®¹å™¨
      run_options: >-                        # Dockerè¿è¡Œå‚æ•°
        --gpus all
        --privileged
        -v /data:/data
        -v /home:/home
        --shm-size=16g
        --restart=always
    session:
      name: "gpu_training"                   # ğŸ“ ä¿®æ”¹ï¼šä¼šè¯å
      working_directory: "/workspace"
      shell: "/bin/zsh"
      environment:
        CUDA_VISIBLE_DEVICES: "0,1"         # ğŸ“ ä¿®æ”¹ï¼šGPUè®¾å¤‡
        PYTHONPATH: "/workspace:/workspace/src"
    environment_setup:
      auto_setup: true                       # å¯ç”¨è‡ªåŠ¨ç¯å¢ƒé…ç½®
      quick_connect_mode: true               # å¿«é€Ÿè¿æ¥æ¨¡å¼

  # ================================================================
  # ğŸŒ relay-cliè¿æ¥ç¤ºä¾‹ï¼ˆç™¾åº¦å†…ç½‘ï¼‰
  # ================================================================
  internal-server:
    type: "script_based"
    description: "å†…ç½‘æœåŠ¡å™¨ - relay-cliè¿æ¥"
    connection:
      tool: "relay-cli"                      # ä½¿ç”¨relay-cli
      mode: "direct"                         # ç›´è¿æ¨¡å¼
      target:
        host: "internal-gpu-01.domain"      # ğŸ“ ä¿®æ”¹ï¼šå†…ç½‘æœåŠ¡å™¨åœ°å€
        user: "root"                        # ğŸ“ ä¿®æ”¹ï¼šç”¨æˆ·å
    docker:
      container_name: "dev_env"             # ğŸ“ ä¿®æ”¹ï¼šå®¹å™¨å
      image: "ubuntu:20.04"                 # ğŸ“ ä¿®æ”¹ï¼šé•œåƒ
      auto_create: true
      run_options: "--privileged -v /data:/data"
    session:
      name: "internal_dev"                  # ğŸ“ ä¿®æ”¹ï¼šä¼šè¯å
      working_directory: "/workspace"
      shell: "/bin/zsh"
    bos:                                     # ğŸ“ å¯é€‰ï¼šBOSäº‘å­˜å‚¨é…ç½®
      access_key: "your_bos_access_key"     # ğŸ“ ä¿®æ”¹ï¼šBOSè®¿é—®å¯†é’¥
      secret_key: "your_bos_secret_key"     # ğŸ“ ä¿®æ”¹ï¼šBOSå¯†é’¥
      bucket: "bos://your-bucket/config"    # ğŸ“ ä¿®æ”¹ï¼šBOSæ¡¶è·¯å¾„

  # ================================================================
  # ğŸŒŠ è·³æ¿æœºè¿æ¥ç¤ºä¾‹
  # ================================================================
  jump-host-server:
    type: "script_based"
    description: "é€šè¿‡è·³æ¿æœºè®¿é—®çš„æœåŠ¡å™¨"
    connection:
      tool: "relay-cli"                      # æˆ–ä½¿ç”¨SSH
      mode: "jump_host"                      # è·³æ¿æœºæ¨¡å¼
      jump_host:
        host: "user@jump.company.com"       # ğŸ“ ä¿®æ”¹ï¼šè·³æ¿æœºåœ°å€
        password: "jump_password"            # ğŸ“ ä¿®æ”¹ï¼šè·³æ¿æœºå¯†ç 
        # key_file: "~/.ssh/jump_key"        # ğŸ“ å¯é€‰ï¼šè·³æ¿æœºSSHå¯†é’¥
      target:
        host: "private-server-01"            # ğŸ“ ä¿®æ”¹ï¼šç›®æ ‡æœåŠ¡å™¨
        user: "root"                        # ğŸ“ ä¿®æ”¹ï¼šç›®æ ‡ç”¨æˆ·
    docker:
      container_name: "private_dev"         # ğŸ“ ä¿®æ”¹ï¼šå®¹å™¨å
      image: "custom/dev-env:latest"        # ğŸ“ ä¿®æ”¹ï¼šè‡ªå®šä¹‰é•œåƒ
      auto_create: true
    session:
      name: "private_dev"                   # ğŸ“ ä¿®æ”¹ï¼šä¼šè¯å
      working_directory: "/workspace"
      shell: "/bin/zsh"

# ================================================================
# âš™ï¸ å…¨å±€è®¾ç½®
# ================================================================
global_settings:
  default_server: "local-dev"               # ğŸ“ ä¿®æ”¹ï¼šé»˜è®¤æœåŠ¡å™¨
  connection_timeout: 30                    # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  command_timeout: 300                      # å‘½ä»¤è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  max_retries: 3                           # æœ€å¤§é‡è¯•æ¬¡æ•°
  
  # ğŸš€ æ™ºèƒ½é¢„è¿æ¥è®¾ç½®ï¼ˆå¯é€‰ï¼‰
  auto_preconnect: false                    # ğŸ“ ä¿®æ”¹ï¼šæ˜¯å¦å¯ç”¨é¢„è¿æ¥
  preconnect_servers:                       # ğŸ“ ä¿®æ”¹ï¼šé¢„è¿æ¥æœåŠ¡å™¨åˆ—è¡¨
    - "local-dev"                          # æœ¬åœ°å¼€å‘ï¼ˆæ¨èä¿ç•™ï¼‰
    # - "gpu-server"                       # å–æ¶ˆæ³¨é‡Šä»¥å¯ç”¨
    # - "internal-server"                  # å–æ¶ˆæ³¨é‡Šä»¥å¯ç”¨
  preconnect_timeout: 60                    # é¢„è¿æ¥æ€»è¶…æ—¶æ—¶é—´
  preconnect_parallel: 3                   # å¹¶è¡Œé¢„è¿æ¥æ•°é‡

# ================================================================
# ğŸ”’ å®‰å…¨é…ç½®
# ================================================================
security:
  # å…è®¸çš„å‘½ä»¤ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰
  allowed_commands:
    - ".*"                                  # ğŸ“ ç”Ÿäº§ç¯å¢ƒå»ºè®®é™åˆ¶
  
  # ç¦æ­¢çš„å‘½ä»¤
  forbidden_commands:
    # - "rm -rf /"                         # å–æ¶ˆæ³¨é‡Šä»¥ç¦ç”¨å±é™©å‘½ä»¤
    # - "format.*"                         # å–æ¶ˆæ³¨é‡Šä»¥ç¦ç”¨æ ¼å¼åŒ–
  
  # éœ€è¦ç¡®è®¤çš„å‘½ä»¤
  require_confirmation:
    - "rm -rf"                             # é€’å½’åˆ é™¤éœ€è¦ç¡®è®¤
    - "docker rm"                          # åˆ é™¤å®¹å™¨éœ€è¦ç¡®è®¤
    - "shutdown"                           # å…³æœºéœ€è¦ç¡®è®¤
    - "reboot"                             # é‡å¯éœ€è¦ç¡®è®¤

# ================================================================
# ğŸ“š é…ç½®è¯´æ˜
# ================================================================
# 
# ğŸ¯ å¿«é€Ÿå¼€å§‹ï¼š
# 1. å¤åˆ¶æ­¤æ–‡ä»¶åˆ° ~/.remote-terminal-mcp/config.yaml
# 2. æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹å¸¦æœ‰ "ğŸ“ ä¿®æ”¹" æ ‡è®°çš„å­—æ®µ
# 3. åˆ é™¤ä¸éœ€è¦çš„æœåŠ¡å™¨é…ç½®
# 4. åœ¨Cursorä¸­è¯´ "åˆ—å‡ºæ‰€æœ‰è¿œç¨‹æœåŠ¡å™¨" æµ‹è¯•é…ç½®
# 
# ğŸ”§ æœåŠ¡å™¨ç±»å‹è¯´æ˜ï¼š
# - local_tmux: æœ¬åœ°tmuxä¼šè¯ï¼ˆæ¨èä¿ç•™ï¼‰
# - script_based: è¿œç¨‹æœåŠ¡å™¨ï¼ˆæ”¯æŒDockerã€BOSç­‰åŠŸèƒ½ï¼‰
# 
# ğŸ³ Dockeré…ç½®è¯´æ˜ï¼š
# - auto_create: true è¡¨ç¤ºè‡ªåŠ¨åˆ›å»ºå’Œç®¡ç†Dockerå®¹å™¨
# - run_options: Dockerè¿è¡Œå‚æ•°ï¼Œæ ¹æ®éœ€è¦æ·»åŠ GPUã€æŒ‚è½½ç­‰
# 
# ğŸŒ è¿æ¥æ¨¡å¼è¯´æ˜ï¼š
# - direct: ç›´æ¥è¿æ¥
# - jump_host: é€šè¿‡è·³æ¿æœºè¿æ¥
# 
# ğŸ”§ è¿æ¥å·¥å…·è¯´æ˜ï¼š
# - ssh: æ ‡å‡†SSHè¿æ¥
# - relay-cli: ç™¾åº¦å†…ç½‘relay-cliå·¥å…·
# 
# â˜ï¸ BOSé…ç½®è¯´æ˜ï¼š
# - ç”¨äºåŒæ­¥å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆ.zshrc, SSHå¯†é’¥ç­‰ï¼‰
# - éœ€è¦æœ‰æ•ˆçš„BOSè®¿é—®å‡­è¯
# 
# ğŸš€ é¢„è¿æ¥åŠŸèƒ½ï¼š
# - å¯åŠ¨æ—¶è‡ªåŠ¨è¿æ¥å¸¸ç”¨æœåŠ¡å™¨ï¼Œæé«˜å“åº”é€Ÿåº¦
# - é€‚åˆç¨³å®šçš„å†…ç½‘ç¯å¢ƒ
# 
# ğŸ“ è·å–å¸®åŠ©ï¼š
# - æŸ¥çœ‹ docs/CONFIGURATION_GUIDE.md è·å–è¯¦ç»†é…ç½®è¯´æ˜
# - åœ¨Cursorä¸­è¯´ "æ£€æŸ¥æœåŠ¡å™¨é…ç½®" éªŒè¯é…ç½®æ­£ç¡®æ€§
# 
# ================================================================ 